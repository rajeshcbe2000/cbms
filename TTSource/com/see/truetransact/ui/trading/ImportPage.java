/*
 * Copyright 2003-2020 FINCuro Solutions Pvt Ltd. All rights reserved.
 *
 * This software and its components are the property of FINCuro Solutions Pvt Limited and its affiliates, through authorship and acquisition. 
 * 
 * ImportPage.java
 *
 * Created on 16 September, 2011, 12:38 PM
 */

package com.see.truetransact.ui.trading;

/**
 *
 * @author  aravind
 */
public class ImportPage extends com.see.truetransact.uicomponent.CPanel implements java.util.Observer {
    
   javax.swing. JFileChooser fc;
    /** Creates new form ImportPage */
    public ImportPage() {
        initComponents();
        setMyComponents();
    }
     private void setMyComponents() {
         
         fc = new javax.swing.JFileChooser();
     }
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        cLabel1 = new com.see.truetransact.uicomponent.CLabel();
        path = new com.see.truetransact.uicomponent.CTextField();
        ok = new com.see.truetransact.uicomponent.CButton();
        save = new com.see.truetransact.uicomponent.CButton();
        clear = new com.see.truetransact.uicomponent.CButton();

        setLayout(null);

        cLabel1.setText("File");
        add(cLabel1);
        cLabel1.setBounds(70, 90, 16, 14);

        add(path);
        path.setBounds(100, 90, 140, 21);

        ok.setText("OK");
        ok.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                okActionPerformed(evt);
            }
        });

        add(ok);
        ok.setBounds(250, 90, 51, 27);

        save.setText("Save");
        save.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveActionPerformed(evt);
            }
        });

        add(save);
        save.setBounds(90, 130, 80, 27);

        clear.setText("Clear");
        clear.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clearActionPerformed(evt);
            }
        });

        add(clear);
        clear.setBounds(190, 130, 80, 27);

    }//GEN-END:initComponents

    private void okActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_okActionPerformed
        try{
            	   int returnVal = fc.showSaveDialog(null);
         	      if (returnVal == javax.swing.JFileChooser.APPROVE_OPTION) {
         	        java.io.File file = fc.getSelectedFile();
         	        String fname = file.getName();
         	    
         	       if(fname !=null || !fname.equalsIgnoreCase(""))
        	    	   if(fname.substring(fname.indexOf('.')+1, fname.length()).equals("txt"))
        	    	   {
                              path.setText(fc.getSelectedFile().toString());
                           }
                           else
                            javax.swing.JOptionPane.showMessageDialog(null,"File should be .txt","Message",1);    
                      }
                      }
                   catch(Exception e){
                       javax.swing.JOptionPane.showMessageDialog(null,"File should be .txt","Message",1);
                   }
    }//GEN-LAST:event_okActionPerformed

    private void clearActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clearActionPerformed
       path.setText("");
    }//GEN-LAST:event_clearActionPerformed

    private void saveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_saveActionPerformed
        
      
    }//GEN-LAST:event_saveActionPerformed

    public void update(java.util.Observable observable, Object obj) {
    }    
    
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private com.see.truetransact.uicomponent.CLabel cLabel1;
    private com.see.truetransact.uicomponent.CButton clear;
    private com.see.truetransact.uicomponent.CButton ok;
    private com.see.truetransact.uicomponent.CTextField path;
    private com.see.truetransact.uicomponent.CButton save;
    // End of variables declaration//GEN-END:variables
    
     public static void main(String s[]) {
         javax.swing.JFrame fr = new  javax.swing.JFrame();
         fr.setVisible(true);
         fr.setDefaultCloseOperation(javax.swing.JFrame.EXIT_ON_CLOSE);
         fr.add(new ImportPage());
         fr.setSize(400 , 200);
     }
}
